<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="website_sale_stock.product_availability">
        <t t-if="allow_out_of_stock_order">
            <t t-if="free_qty gt 0">
                <div t-if="free_qty lte available_threshold" t-attf-class="availability_message_#{product_template} text-warning mt16">
                    <i class="fa fa-exclamation-triangle" title="Warning" role="img" aria-label="Warning"/>
                    <t t-esc="free_qty" /> <t t-esc="uom_name" /> available
                </div>
                <t t-esle="">
                    <div t-if="allow_out_of_stock_order" t-attf-class="availability_message_#{product_template} text-success mt16">
                        <t t-esc="free_qty" /> <t t-esc="uom_name" /> available
                    </div>
                </t>
            </t>
            <div t-if="cart_qty" t-attf-class="availability_message_#{product_template} text-warning mt8">
                <t t-if='!free_qty'>
                    You already added all the available product in your cart.
                </t>
                <t t-else=''>
                    You already added <t t-esc="cart_qty" /> <t t-esc="uom_name" /> in your cart.
                </t>
            </div>
        </t>
        <t t-if="product_type == 'product' and !allow_out_of_stock_order">
            <div id="out_of_stock_message" t-if="free_qty lte 0 and !cart_qty" t-attf-class="availability_message_#{product_template}">
                <t t-if='has_out_of_stock_message' t-out='out_of_stock_message'/>
                <t t-elif="!allow_out_of_stock_order">Temporarily Out of Stock</t>
            </div>
            <div id="threshold_message" t-elif="show_availability and free_qty lte available_threshold" t-attf-class="availability_message_#{product_template}">
                <t t-esc='free_qty'/> <t t-esc="uom_name" /> available
            </div>

            <div t-if="!allow_out_of_stock_order and show_availability and cart_qty" t-attf-class="availability_message_#{product_template} text-warning mt8">
                <t t-if='!free_qty'>
                    You already added all the available product in your cart.
                </t>
                <t t-else=''>
                    You already added <t t-esc="cart_qty" /> <t t-esc="uom_name" /> in your cart.
                </t>
            </div>
        </t>
    </t>
</templates>
